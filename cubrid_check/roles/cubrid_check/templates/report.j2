========================================
        CUBRID 통합 운영 점검 리포트
========================================

[ 설치 정보 ]
- CUBRID HOME : {{ cubrid_home }}

----------------------------------------
[ 서비스 / 프로세스 상태 ]
----------------------------------------
{{ cubrid_service_status.stdout | default('정보 없음') }}

[ 관리 프로세스(cub_admin) ]
{% if cubrid_admin_proc.stdout %}
실행 중
{{ cubrid_admin_proc.stdout }}
{% else %}
미기동 또는 미사용 환경
{% endif %}

[ 브로커 프로세스 개수 ]
{{ cubrid_broker_count.stdout }}

----------------------------------------
[ OS 리소스 사용 현황 ]
----------------------------------------
- CUBRID 전체 프로세스 수 : {{ cubrid_proc_count.stdout }}

[ CPU 사용률 상위 ]
{{ cubrid_cpu_usage.stdout | default('정보 없음') }}

[ 메모리 사용률 상위 ]
{{ cubrid_mem_usage.stdout | default('정보 없음') }}

----------------------------------------
[ 데이터베이스 상태 ]
----------------------------------------
{% if db_list is defined and db_list.stdout %}
정의된 DB:
{{ db_list.stdout }}
{% else %}
정의된 데이터베이스 없음
{% endif %}

[ DB 접속 점검 ]
{% if csql_result is defined %}
{% for r in csql_result.results %}
- {{ r.item }} : {% if r.stdout is defined %}접속 정상{% else %}접속 불가{% endif %}
{% endfor %}
{% else %}
DB 미기동 또는 점검 대상 아님
{% endif %}

----------------------------------------
[ 테이블스페이스 사용률 ]
----------------------------------------
{% if cubrid_spacedb is defined and cubrid_spacedb.stdout %}
{{ cubrid_spacedb.stdout }}
{% else %}
점검 대상 아님
{% endif %}

----------------------------------------
[ 백업 / 로그 파일시스템 (/NCIA) ]
----------------------------------------
{% if ncia_df.stdout %}
{{ ncia_df.stdout }}
{% else %}
/NCIA 미구성 환경
{% endif %}

----------------------------------------
[ HA(이중화) 상태 ]
----------------------------------------
{% if cubrid_ha_status.stdout %}
{{ cubrid_ha_status.stdout }}
{% else %}
HA 미구성 환경 (정상)
{% endif %}

========================================
본 리포트는 Ansible 기반 CUBRID 통합 점검 결과입니다.
========================================

