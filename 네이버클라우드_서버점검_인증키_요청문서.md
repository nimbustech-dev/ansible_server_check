# 네이버 클라우드 서버 점검을 위한 인증키 접근 권한 요청

**작성일**: 2026년 1월 6일  
**작성자**: 성태환  
**대상 서버**: nimbus-server (115.85.181.103)

---

## 📋 배경 및 목적

회사에서 운영 중인 네이버 클라우드 플랫폼의 `nimbus-server`에 대한 정기 점검 시스템을 구축하기 위해 서버 접속이 필요합니다. 

현재 점검 시스템은 Ansible을 통해 서버 상태를 확인하고, 결과를 중앙 데이터베이스에 저장하여 웹 대시보드로 모니터링하는 구조로 설계되어 있습니다.

---

## 🔍 현재 상황

### 서버 정보
- **서버명**: nimbus-server
- **공인 IP**: 115.85.181.103
- **OS**: CentOS 7.8 (64-bit)
- **사양**: 2vCPU, 4GB Memory, 50GB Disk
- **상태**: 운영 중

### 인증키 현황
- **현재 등록된 인증키**: `nimsou2021`
- **인증키 용도**: 기존 `nimsou` 프로그램에서 사용 중
- **문제점**: 점검 시스템을 위한 SSH 접속을 위해서는 인증키 파일 또는 서버 접속 권한이 필요함

### 기술적 요구사항
- **접속 방식**: SSH (Secure Shell)를 통한 원격 접속
- **인증 방법**: SSH 키 기반 인증 (비밀번호 인증은 보안상 권장하지 않음)
- **필수 파일**: 개인키 파일(.pem 또는 개인키) 또는 공개키를 서버에 등록할 권한

---

## ⚠️ 문제점

현재 점검 시스템 구축을 위해 다음 중 하나가 반드시 필요합니다:

1. **기존 인증키 파일**이 없어 서버 접속 불가
2. **서버 콘솔 접속 권한**이 없어 직접 키 추가 불가
3. **인증키 관리 권한**이 없어 새 키 등록 불가

**결과**: 위 사항 중 하나도 제공되지 않으면 서버 점검 시스템 구축이 불가능합니다.

---

## 💡 해결 방안 (3가지 옵션)

### 방안 1: 기존 인증키 파일 제공 (권장) ⭐

#### 설명
기존에 `nimsou` 프로그램에서 사용 중인 `nimsou2021` 인증키의 개인키 파일(.pem 또는 개인키 파일)을 제공받아 사용하는 방법입니다.

#### 장점
- ✅ 기존 `nimsou` 프로그램에 전혀 영향 없음
- ✅ 서버 설정 변경 불필요
- ✅ 가장 안전하고 빠른 방법
- ✅ 기존 운영 환경 유지

#### 단점
- ⚠️ 인증키 파일 보안 관리 필요

#### 필요한 사항
1. **`nimsou2021` 인증키의 개인키 파일** (.pem 파일 또는 개인키 파일)
   - 파일 위치: 서버 생성 시 다운로드한 위치 또는 보관된 위치
   - 파일 형식: `.pem`, `.key`, 또는 개인키 파일
2. **파일 전달 방법**: 보안이 유지되는 방법으로 전달 (암호화된 전송 등)

#### 기술적 근거
- SSH 키 기반 인증은 개인키(Private Key)와 공개키(Public Key) 쌍으로 작동
- 서버에는 공개키가 등록되어 있고, 접속 시 개인키로 인증
- 개인키 파일이 없으면 SSH 접속 불가능

---

### 방안 2: 서버 콘솔 접속 권한 제공

#### 설명
네이버 클라우드 콘솔의 "서버 접속 콘솔" 기능을 통해 서버에 직접 접속하여 새 공개키를 추가하는 방법입니다.

#### 장점
- ✅ 기존 `nimsou` 프로그램에 영향 없음 (기존 키 유지 + 새 키 추가)
- ✅ 인증키 파일 불필요
- ✅ 서버 설정 변경 최소화

#### 단점
- ⚠️ 서버 콘솔 접속을 위한 로그인 정보 필요
- ⚠️ 콘솔 접속 시간 제한 (5분, 최대 20분 연장)

#### 필요한 사항
1. **서버 콘솔 로그인 정보**
   - 사용자명: (일반적으로 `root` 또는 `centos`)
   - 비밀번호: 서버 관리자 비밀번호
2. **또는 관리자 비밀번호 확인 방법**
   - 네이버 클라우드 콘솔에서 "관리자 비밀번호 확인" 기능 사용 가능 여부
   - (단, 이 경우에도 `nimsou2021` 인증키 파일 필요)

#### 기술적 근거
- 서버 콘솔 접속 후 `~/.ssh/authorized_keys` 파일에 새 공개키 추가 가능
- 기존 키는 삭제하지 않고 추가만 하면 두 키 모두 사용 가능
- `nimsou` 프로그램은 기존 키로 계속 작동, 점검 시스템은 새 키로 접속

#### 실행 방법
```bash
# 서버 콘솔 접속 후 실행할 명령어
echo "새로운_공개키_내용" >> ~/.ssh/authorized_keys
chmod 600 ~/.ssh/authorized_keys
```

---

### 방안 3: 기존 인증키 삭제 후 새 인증키 생성 (비권장) ⚠️

#### 설명
네이버 클라우드 콘솔에서 기존 `nimsou2021` 인증키를 삭제하고 새로운 인증키를 생성하여 사용하는 방법입니다.

#### 장점
- ✅ 새로운 인증키로 깔끔하게 시작
- ✅ 인증키 관리 단순화

#### 단점
- ❌ **기존 `nimsou` 프로그램이 즉시 사용 불가능해짐**
- ❌ 서버 인증키 변경 시 기존 키로 접속하는 모든 프로그램/서비스 중단
- ❌ `nimsou` 프로그램 재설정 필요
- ❌ 서비스 중단 시간 발생 가능

#### 필요한 사항
1. **네이버 클라우드 콘솔 접속 권한**
2. **인증키 관리 권한**
3. **`nimsou` 프로그램 중단 및 재설정 승인**

#### 기술적 근거
- 네이버 클라우드에서 서버 인증키를 변경하면 기존 키는 즉시 무효화됨
- `nimsou` 프로그램이 `nimsou2021` 키를 사용 중이라면 접속 불가능
- 새 키로 `nimsou` 프로그램도 재설정해야 함

#### ⚠️ 주의사항
**이 방법은 기존 운영 중인 `nimsou` 프로그램에 직접적인 영향을 미치므로, 사전에 `nimsou` 프로그램 담당자와 협의 및 서비스 중단 계획 수립이 필수입니다.**

---

## 📊 방안 비교표

| 항목 | 방안 1 (기존 키 제공) | 방안 2 (콘솔 접속) | 방안 3 (키 교체) |
|------|---------------------|-------------------|-----------------|
| **nimsou 영향** | 없음 ✅ | 없음 ✅ | 중단됨 ❌ |
| **서비스 중단** | 없음 ✅ | 없음 ✅ | 발생 가능 ⚠️ |
| **보안성** | 높음 ✅ | 높음 ✅ | 높음 ✅ |
| **구현 속도** | 빠름 ✅ | 보통 | 빠름 ✅ |
| **권장도** | ⭐⭐⭐ | ⭐⭐ | ⭐ |

---

## 🎯 요구 사항 요약

점검 시스템 구축을 위해 **다음 중 하나를 반드시 제공**해 주시기 바랍니다:

### ✅ 옵션 1 (최우선 권장)
- **`nimsou2021` 인증키 개인키 파일** (.pem 또는 개인키 파일)

### ✅ 옵션 2
- **서버 콘솔 접속 정보**
  - 사용자명: ___________
  - 비밀번호: ___________

### ⚠️ 옵션 3 (비권장)
- **인증키 교체 승인** 및 `nimsou` 프로그램 재설정 계획

---

## ⚠️ 중요 안내

**위 사항 중 하나도 제공되지 않으면 서버 점검 시스템 구축이 기술적으로 불가능합니다.**

현재 상황:
- ❌ 기존 인증키 파일 없음
- ❌ 서버 콘솔 접속 권한 없음
- ❌ 인증키 관리 권한 없음

**결과**: SSH 접속이 불가능하여 Ansible을 통한 자동 점검 시스템 구축 불가

---

## 📞 문의 및 협의

위 방안 중 어떤 방법으로 진행할지 결정해 주시기 바랍니다. 

특히 **방안 3 (키 교체)**의 경우, `nimsou` 프로그램 담당자와 사전 협의가 필수입니다.

---

## 📎 참고 자료

- **서버 정보**: 네이버 클라우드 콘솔 > Server > nimbus-server
- **현재 인증키**: nimsou2021 (2021-11-03 생성)
- **점검 시스템**: Ansible + FastAPI + PostgreSQL
- **점검 항목**: OS 점검, WAS 점검, DB 점검 등

---

**작성자**: 성태환  
**작성일**: 2026년 1월 6일  
**승인 요청**: 네이버 클라우드 서버 점검 시스템 구축을 위한 인증키 접근 권한

