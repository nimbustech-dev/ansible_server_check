# ì›ê²© ì„œë²„ ì ê²€ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”

ë¡œì»¬ PCì—ì„œ ë™êµ­ëŒ€ ì„œë²„ ë“± ì›ê²© ì„œë²„ë¥¼ ì ê²€í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## âœ… í•„ìš”í•œ ì •ë³´

### í•„ìˆ˜ ì •ë³´
1. **ì„œë²„ IP ì£¼ì†Œ**: ì˜ˆ) `192.168.0.100`
2. **SSH ì‚¬ìš©ìëª…**: ì˜ˆ) `root`, `admin`, `dongguk` ë“±
3. **ì¸ì¦ ë°©ë²•**:
   - ë¹„ë°€ë²ˆí˜¸ ì¸ì¦
   - SSH í‚¤ íŒŒì¼ (`.pem`, `.key` ë“±)
4. **SSH í¬íŠ¸**: ê¸°ë³¸ 22 (ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš© ì‹œ ëª…ì‹œ)

### ì„ íƒ ì •ë³´
- **OS ì¢…ë¥˜**: RedHat, CentOS, Ubuntu ë“± (ì ê²€ ìŠ¤í¬ë¦½íŠ¸ í˜¸í™˜ì„± í™•ì¸ìš©)
- **ì„¤ì¹˜ëœ ì„œë¹„ìŠ¤**: MariaDB, PostgreSQL, CUBRID, Tomcat ë“±

## ğŸ”§ ì„¤ì • ë°©ë²•

### 1ë‹¨ê³„: Inventory íŒŒì¼ ìƒì„±/ìˆ˜ì •

`inventory/dongguk_remote_servers.ini` íŒŒì¼ì„ ì—´ê³  ì‹¤ì œ ì„œë²„ ì •ë³´ë¡œ ìˆ˜ì •:

```ini
[dongguk_servers]
dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_ssh_pass=ë¹„ë°€ë²ˆí˜¸
```

**SSH í‚¤ ì‚¬ìš© ì‹œ:**
```ini
[dongguk_servers]
dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_ssh_private_key_file=~/.ssh/id_rsa
```

**ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš© ì‹œ:**
```ini
[dongguk_servers]
dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_port=2222 ansible_ssh_pass=ë¹„ë°€ë²ˆí˜¸
```

### 2ë‹¨ê³„: SSH ì ‘ì† í…ŒìŠ¤íŠ¸

```bash
# WSLì—ì„œ ì‹¤í–‰
wsl bash -c "cd /mnt/c/ansible_server_check && ansible -i inventory/dongguk_remote_servers.ini dongguk_servers -m ping"
```

**ì„±ê³µ ì‹œ ì¶œë ¥:**
```
dongguk_server1 | SUCCESS => {
    "changed": false,
    "ping": "pong"
}
```

### 3ë‹¨ê³„: ì ê²€ ì‹¤í–‰

#### OS ì ê²€
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini redhat_check/redhat_check.yml"
```

#### WAS ì ê²€
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini tomcat_check/tomcat_check.yml"
```

#### MariaDB ì ê²€
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini mariadb_check/mariadb_check.yml"
```

#### PostgreSQL ì ê²€
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini postgresql_check/postgresql_check.yml"
```

#### CUBRID ì ê²€
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini cubrid_check/cubrid_check.yml"
```

## ğŸ” ë¬¸ì œ í•´ê²°

### SSH ì ‘ì† ì‹¤íŒ¨ ì‹œ

1. **ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸**
   ```bash
   ping 192.168.0.100
   ```

2. **SSH í¬íŠ¸ í™•ì¸**
   ```bash
   telnet 192.168.0.100 22
   # ë˜ëŠ”
   nc -zv 192.168.0.100 22
   ```

3. **ë°©í™”ë²½ í™•ì¸**
   - ì›ê²© ì„œë²„ì˜ ë°©í™”ë²½ì—ì„œ SSH í¬íŠ¸(22)ê°€ ì—´ë ¤ìˆëŠ”ì§€ í™•ì¸
   - ë¡œì»¬ PCì˜ ë°©í™”ë²½ì—ì„œ ì•„ì›ƒë°”ìš´ë“œ ì—°ê²°ì´ í—ˆìš©ë˜ëŠ”ì§€ í™•ì¸

4. **VPN ì—°ê²° í™•ì¸**
   - ë™êµ­ëŒ€ ë„¤íŠ¸ì›Œí¬ ì ‘ê·¼ì´ í•„ìš”í•œ ê²½ìš° VPN ì—°ê²° í™•ì¸
   - Radmin VPN ë“± VPN í´ë¼ì´ì–¸íŠ¸ ì‹¤í–‰ í™•ì¸

5. **SSH í‚¤ ê¶Œí•œ í™•ì¸** (SSH í‚¤ ì‚¬ìš© ì‹œ)
   ```bash
   chmod 600 ~/.ssh/id_rsa
   ```

### ì ê²€ ì‹¤íŒ¨ ì‹œ

1. **ê¶Œí•œ í™•ì¸**
   - `become: yes`ê°€ í•„ìš”í•œ ì‘ì—…ì€ sudo ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤
   - ì›ê²© ì„œë²„ì—ì„œ sudo ë¹„ë°€ë²ˆí˜¸ ì—†ì´ ì‹¤í–‰ ê°€ëŠ¥í•œì§€ í™•ì¸

2. **í•„ìˆ˜ ë„êµ¬ í™•ì¸**
   - Python ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸
   - ì ê²€ ëŒ€ìƒ ì„œë¹„ìŠ¤ ì„¤ì¹˜ ì—¬ë¶€ í™•ì¸

3. **ë¡œê·¸ í™•ì¸**
   - Ansible ì‹¤í–‰ ì‹œ `-v` ì˜µì…˜ìœ¼ë¡œ ìƒì„¸ ë¡œê·¸ í™•ì¸:
   ```bash
   ansible-playbook -i inventory/dongguk_remote_servers.ini redhat_check/redhat_check.yml -v
   ```

## ğŸ“ ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

âš ï¸ **ì¤‘ìš”**: Inventory íŒŒì¼ì— ë¹„ë°€ë²ˆí˜¸ë¥¼ ì§ì ‘ ì‘ì„±í•˜ëŠ” ê²ƒì€ ë³´ì•ˆìƒ ìœ„í—˜í•©ë‹ˆë‹¤.

### ê¶Œì¥ ë°©ë²•

1. **SSH í‚¤ ì‚¬ìš©** (ê°€ì¥ ì•ˆì „)
   ```ini
   dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_ssh_private_key_file=~/.ssh/id_rsa
   ```

2. **Ansible Vault ì‚¬ìš©**
   ```bash
   ansible-vault encrypt inventory/dongguk_remote_servers.ini
   ```

3. **í™˜ê²½ ë³€ìˆ˜ ì‚¬ìš©**
   ```bash
   export ANSIBLE_SSH_PASS=ë¹„ë°€ë²ˆí˜¸
   ```

## ğŸ¯ ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤

### ì‹œë‚˜ë¦¬ì˜¤ 1: ë™êµ­ëŒ€ ì„œë²„ 1ëŒ€ ì ê²€

**ì„œë²„ ì •ë³´:**
- IP: `192.168.0.100`
- ì‚¬ìš©ì: `root`
- ë¹„ë°€ë²ˆí˜¸: `dongguk2024`
- OS: RedHat 7

**Inventory ì„¤ì •:**
```ini
[dongguk_servers]
dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_ssh_pass=dongguk2024
```

**ì ê²€ ì‹¤í–‰:**
```bash
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini redhat_check/redhat_check.yml"
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: ì—¬ëŸ¬ ì„œë²„ ë™ì‹œ ì ê²€

**Inventory ì„¤ì •:**
```ini
[dongguk_servers]
dongguk_server1 ansible_host=192.168.0.100 ansible_user=root ansible_ssh_pass=ë¹„ë°€ë²ˆí˜¸1
dongguk_server2 ansible_host=192.168.0.101 ansible_user=root ansible_ssh_pass=ë¹„ë°€ë²ˆí˜¸2
dongguk_server3 ansible_host=192.168.0.102 ansible_user=root ansible_ssh_pass=ë¹„ë°€ë²ˆí˜¸3
```

**ì ê²€ ì‹¤í–‰:**
```bash
# ëª¨ë“  ì„œë²„ì— ëŒ€í•´ OS ì ê²€ ì‹¤í–‰
wsl bash -c "cd /mnt/c/ansible_server_check && ansible-playbook -i inventory/dongguk_remote_servers.ini redhat_check/redhat_check.yml"
```

## ğŸ“š ì°¸ê³  ìë£Œ

- [Ansible Inventory ë¬¸ì„œ](https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html)
- [SSH í‚¤ ìƒì„± ë°©ë²•](https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)

